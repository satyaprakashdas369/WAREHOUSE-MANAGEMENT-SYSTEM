<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8"> 
    <title>Gate Entry Queue</title> 
    <link 
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.c
ss" rel="stylesheet"> 
</head> 
<body class="container mt-5"> 
    <h2 class="mb-4">Gate Entry Queue</h2> 
    {% with messages = get_flashed_messages() %} 
      {% if messages %} 
        {% for message in messages %} 
          <div class="alert alert-info">{{ message }}</div>
           {% endfor %} 
      {% endif %} 
    {% endwith %} 
 
    {% if queue %} 
        <table class="table table-striped"> 
            <thead> 
                <tr> 
                    <th>Truck ID</th> 
                    <th>Truck Number</th> 
                    <th>Status</th> 
                    <th>Action</th> 
                </tr> 
            </thead> 
            <tbody> 
                {% for truck in queue %} 
                <tr> 
                    <td>{{ truck[0] }}</td> 
                    <td>{{ truck[1] }}</td> 
                    <td>{{ truck[2] }}</td> 
                    <td> 
                        <form method="POST" style="display:inline-block;"> 
                            <button type="submit" class="btn btn-success 
btn-sm">Announce</button> 
                        </form> 
                        {% set audio_file = 'static/audio/' + 
truck[1]|replace(' ', '') + '_announcement.mp3' %} 
                        <audio id="audio-{{ truck[0] }}" src="{{ 
url_for('static', filename='audio/' + truck[1]|replace(' ', '') + 
'_announcement.mp3') }}"></audio> 
                        <button class="btn btn-outline-secondary btn-sm" 
onclick="document.getElementById('audio-{{ truck[0] }}').play()">ðŸ”Š 
Play</button> 
                    </td> 
                </tr> 
                {% endfor %} 
            </tbody> 
        </table> 
    {% else %} 
        <p class="text-muted">No trucks in the queue.</p> 
    {% endif %} 
 
    <a href="{{ url_for('upload') }}" class="btn btn-secondary mt-4">â¬… 
Back to Upload Page</a> 
</body> 
